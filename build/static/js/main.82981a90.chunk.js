(window.webpackJsonpdemojs=window.webpackJsonpdemojs||[]).push([[0],{242:function(e,a,t){e.exports=t(458)},458:function(e,a,t){"use strict";t.r(a);var n=t(1),r=t.n(n),i=t(17),c=t.n(i),o=t(70),l=t(49),s=t(19),u=t(7),m=t(204),p=t(505),d=t(512),f=t(506),b=t(507),g=t(509),E=t(76),h=t(508),v=t(502),w=t(510),O=t(511),j=t(460),_=t(497),y=t(206),x=t.n(y),S=t(207),C=t.n(S),P=t(72),B=t(494),k=t(495),N=t(496),D=t(193),M=t.n(D),I=t(194),F=t.n(I),z=t(71),H=t.n(z),J=t(188),$=t.n(J),q=t(123),W=t.n(q);function A(){var e=Object(o.a)(["\n  mutation nuevo_notificacion($notificacion: [notificacion_insert_input!]!) {\n    insert_notificacion(objects: $notificacion) {\n      affected_rows\n    }\n  }\n"]);return A=function(){return e},e}function G(){var e=Object(o.a)(["\n  mutation nuevo_cliente_insertar($nuevo_cliente: [cliente1_insert_input!]!) {\n    insert_cliente1(objects: $nuevo_cliente) {\n      affected_rows\n    }\n  }\n"]);return G=function(){return e},e}W.a.random();var R=H()(G()),T=H()(A());var Y=["Zara","Don Jediondo","Adidas kids","Yogen Fruz","Crepes and Waffles"],L=function(e){var a=Object(P.a)(R),t=Object(l.a)(a,1)[0],i=Object(P.a)(T),c=Object(l.a)(i,1)[0],o=Object(n.useCallback)(function(){var e=function(e){for(var a,t,n=e.length;0!==n;)t=Math.floor(Math.random()*n),a=e[n-=1],e[n]=e[t],e[t]=a;return e}(Y);$.a.post("http://129.213.97.187:3000/nextBuy",{buy:e[0]}).then(function(a){t({variables:{nuevo_cliente:{siguiente_posible_compra:a.data.title[1],ultima_compra:e[0],cliente:W.a.random(),probabilidad:a.data.cosine_sim[1],notificacion:a.data.cosine_sim[1]>.9?"SMS":""}}}),a.data.cosine_sim[1]>.9&&c({variables:{notificacion:{notificacion:"SMS"}}})}).catch(function(e){console.log(e)})});return r.a.createElement("div",null,r.a.createElement(B.a,{button:!0},r.a.createElement(k.a,null,r.a.createElement(M.a,null)),r.a.createElement(N.a,{primary:"Dashboard"})),r.a.createElement(B.a,{button:!0,onClick:o},r.a.createElement(k.a,null,r.a.createElement(F.a,null)),r.a.createElement(N.a,{primary:"Simular Compra"})))},U=r.a.createElement("div",null);t(51);function X(e){return r.a.createElement(E.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0},e.children)}function Z(e,a){return{time:e,amount:a}}Z("00:00",0),Z("03:00",300),Z("06:00",600),Z("09:00",800),Z("12:00",1500),Z("15:00",2e3),Z("18:00",2400),Z("21:00",2400),Z("24:00",void 0);Object(m.a)({depositContext:{flex:1}});var K=t(498),Q=t(504),V=t(501),ee=t(499),ae=t(500),te=t(205),ne=t.n(te),re=t(121),ie=t.n(re),ce=t(503),oe=Object(m.a)(function(e){return{seeMore:{marginTop:e.spacing(3)}}});function le(e){var a=Object(n.useState)(e.clientes),t=Object(l.a)(a,2),i=t[0],c=t[1];Object(n.useEffect)(function(){c(e.clientes)},[JSON.stringify(e.clientes)]);oe();return r.a.createElement(r.a.Fragment,null,r.a.createElement(X,null,"Mejor siguiente oferta"),r.a.createElement(K.a,{size:"small"},r.a.createElement(ee.a,null,r.a.createElement(ae.a,null,r.a.createElement(V.a,null,"Fecha"),r.a.createElement(V.a,null,"Cliente"),r.a.createElement(V.a,null,"Ultima Compra"),r.a.createElement(V.a,null,"Siguiente Posible Compra"),r.a.createElement(V.a,{align:"right"},"Probabilidad"),r.a.createElement(V.a,{align:"right"},r.a.createElement(v.a,{color:"inherit"},r.a.createElement(ce.a,{badgeContent:"",color:"secondary"},r.a.createElement(ie.a,null)))))),r.a.createElement(Q.a,null,i.map(function(e){return r.a.createElement(ae.a,{key:e.cliente_id},r.a.createElement(V.a,null,ne.a.format(new Date(e.fecha))),r.a.createElement(V.a,null,e.cliente),r.a.createElement(V.a,null,e.ultima_compra),r.a.createElement(V.a,null,e.siguiente_posible_compra),r.a.createElement(V.a,{align:"right"},Math.trunc(100*e.probabilidad),"%"),r.a.createElement(V.a,{align:"right"},e.notificacion))}))))}function se(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function ue(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?se(t,!0).forEach(function(a){Object(s.a)(e,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):se(t).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})}return e}function me(){return r.a.createElement(E.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(_.a,{color:"inherit",href:"https://cloud.oracle.com/"},"cloud.oracle.com")," ",(new Date).getFullYear(),".")}var pe=Object(m.a)(function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:ue({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(s.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240}}});function de(e){var a=pe(),t=r.a.useState(!0),n=Object(l.a)(t,2),i=n[0],c=n[1];Object(u.a)(a.paper,a.fixedHeight);return r.a.createElement("div",{className:a.root},r.a.createElement(p.a,null),r.a.createElement(f.a,{position:"absolute",className:Object(u.a)(a.appBar,i&&a.appBarShift)},r.a.createElement(b.a,{className:a.toolbar},r.a.createElement(v.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(){c(!0)},className:Object(u.a)(a.menuButton,i&&a.menuButtonHidden)},r.a.createElement(x.a,null)),r.a.createElement(E.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:a.title},"Augmented Sales"))),r.a.createElement(d.a,{variant:"permanent",classes:{paper:Object(u.a)(a.drawerPaper,!i&&a.drawerPaperClose)},open:i},r.a.createElement("div",{className:a.toolbarIcon},r.a.createElement(v.a,{onClick:function(){c(!1)}},r.a.createElement(C.a,null))),r.a.createElement(h.a,null),r.a.createElement(g.a,null,r.a.createElement(L,null)),r.a.createElement(h.a,null),r.a.createElement(g.a,null,U)),r.a.createElement("main",{className:a.content},r.a.createElement("div",{className:a.appBarSpacer}),r.a.createElement(w.a,{maxWidth:"lg",className:a.container},r.a.createElement(O.a,{container:!0,spacing:3},r.a.createElement(O.a,{item:!0,xs:12},r.a.createElement(j.a,{className:a.paper},r.a.createElement(le,{clientes:e.clientes}))))),r.a.createElement(me,null)))}function fe(){var e=Object(o.a)(["\n  subscription {\n    cliente1(order_by: { fecha: desc }, limit: 15) {\n      cliente_id\n      cliente\n      fecha\n      siguiente_posible_compra\n      ultima_compra\n      notificacion\n      probabilidad\n    }\n  }\n"]);return fe=function(){return e},e}var be=H()(fe());function ge(e){e.repoFullName;var a=Object(P.b)(be,{variables:{}}),t=a.data;return!a.loading&&r.a.createElement(de,{clientes:t.cliente1})}var Ee=function(e){return r.a.createElement("div",null,r.a.createElement(ge,null))},he=t(23),ve=t(43),we=t(208),Oe=t(210),je=t(25),_e=t(4),ye=t(209),xe=new we.a({uri:"ws://129.213.97.187:8080/v1/graphql",options:{reconnect:!0,timeout:3e4,connectionParams:{headers:{"x-hasura-admin-secret":"demoml_oracle"}}}}),Se=new Oe.a({uri:"http://129.213.97.187:8080/v1/graphql",headers:{"x-hasura-admin-secret":"demoml_oracle"}}),Ce=Object(je.d)(function(e){var a=e.query,t=Object(_e.l)(a),n=t.kind,r=t.operation;return"OperationDefinition"===n&&"subscription"===r},xe,Se),Pe=new ve.c({link:Ce,cache:new ye.a});c.a.render(r.a.createElement(he.a,{client:Pe},r.a.createElement(Ee,null)),document.getElementById("root"))}},[[242,1,2]]]);
//# sourceMappingURL=main.82981a90.chunk.js.map